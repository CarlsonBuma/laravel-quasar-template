<mxfile host="Electron" modified="2024-12-15T13:06:45.850Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/22.1.15 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36" etag="0-emFoUVX1MUmmFPOgmc" version="22.1.15" type="device">
  <diagram id="lKLyNhZD-DqhUEhk_Ebg" name="Flags">
    <mxGraphModel dx="778" dy="495" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="B7UrlGxeAEaw_pSlF_-s-1" value="Flags: User Account" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="310" y="90" width="1040" height="435" as="geometry" />
        </mxCell>
        <mxCell id="B7UrlGxeAEaw_pSlF_-s-2" value="&lt;b&gt;&quot;email_verified&quot;: 401&lt;/b&gt;&lt;br&gt;Email is not verified&lt;br&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;Status: email_not_verified&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;Response data:&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Email (string)&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11px;&quot;&gt;CTA:&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Remove user access&lt;/li&gt;&lt;li style=&quot;border-color: var(--border-color);&quot;&gt;Redirect:&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); font-size: 11px; background-color: rgb(255, 255, 255);&quot;&gt;&quot;/email-verification-request/{email}&quot;&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;border-color: var(--border-color);&quot;&gt;Show $toast.error.message&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;verticalAlign=top;spacing=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="330" y="190" width="330" height="180" as="geometry" />
        </mxCell>
        <mxCell id="B7UrlGxeAEaw_pSlF_-s-3" value="&lt;b&gt;&quot;auth:api&quot;: 401&lt;/b&gt;&lt;br&gt;User is not authorized&lt;br style=&quot;border-color: var(--border-color); color: rgb(51, 51, 51);&quot;&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11px;&quot;&gt;According Laravel Passport&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11px;&quot;&gt;CTA:&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Go: Logout.logout()&lt;/li&gt;&lt;li style=&quot;border-color: var(--border-color);&quot;&gt;Redirect:&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); font-size: 11px; background-color: rgb(255, 255, 255);&quot;&gt;&quot;/landingpage&quot;&lt;/span&gt;&lt;/li&gt;&lt;li style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); font-size: 11px; background-color: rgb(255, 255, 255);&quot;&gt;Show $toast.error.message&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;verticalAlign=top;spacing=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="690" y="150" width="290" height="150" as="geometry" />
        </mxCell>
        <mxCell id="B7UrlGxeAEaw_pSlF_-s-4" value="&lt;b&gt;&quot;throttle: 3,1&quot;: 422&lt;br&gt;&lt;/b&gt;To many attempts&lt;br style=&quot;border-color: var(--border-color); color: rgb(51, 51, 51);&quot;&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11px;&quot;&gt;According Laravel&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11px;&quot;&gt;CTA:&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li style=&quot;border-color: var(--border-color);&quot;&gt;Show $toast.error.message&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;verticalAlign=top;spacing=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="740" y="370" width="290" height="130" as="geometry" />
        </mxCell>
        <mxCell id="B7UrlGxeAEaw_pSlF_-s-5" value="&lt;b&gt;&quot;paddle_no_active_subscriptions&quot;: 422&lt;/b&gt;&lt;br&gt;User has active subscriptions ongoing &lt;br&gt;(see FTR. &quot;User Access&quot;)&lt;br&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11px;&quot;&gt;Status: &quot;active_subscriptions&quot;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 11px;&quot;&gt;CTA:&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li style=&quot;border-color: var(--border-color);&quot;&gt;Show $toast.error.message&lt;/li&gt;&lt;li style=&quot;border-color: var(--border-color);&quot;&gt;Redirect &quot;/account/access&quot;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;verticalAlign=top;spacing=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1018.75" y="180" width="290" height="150" as="geometry" />
        </mxCell>
        <mxCell id="B7UrlGxeAEaw_pSlF_-s-7" value="Flags: Access Management" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="315" y="585" width="1040" height="350" as="geometry" />
        </mxCell>
        <mxCell id="B7UrlGxeAEaw_pSlF_-s-12" value="&lt;b&gt;&quot;paddle_webhook_verified&quot;: 400, 403, 500&lt;/b&gt;&lt;br&gt;Verify paddle webhooks by&amp;nbsp;PADDLE_WEBHOOK_SECRET&lt;br&gt;&lt;ul&gt;&lt;li&gt;validate paddle signature&lt;/li&gt;&lt;ul&gt;&lt;li&gt;timestamp [&#39;ts&#39;]&lt;/li&gt;&lt;li&gt;signature [&#39;h1&#39;]&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Make sure there are not expired timestamps (5min)&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Prevent Replay attacks&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Calculate signature&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://developer.paddle.com/webhooks/signature-verification&quot;&gt;Verify webhook signatures - Paddle Developer&lt;/a&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Validate signature&lt;/li&gt;&lt;/ul&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;verticalAlign=top;spacing=12;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="370" y="655" width="340" height="210" as="geometry" />
        </mxCell>
        <mxCell id="B7UrlGxeAEaw_pSlF_-s-13" value="&lt;h1&gt;Flags&lt;/h1&gt;&lt;p&gt;Flags defines&amp;nbsp;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="30" y="130" width="190" height="120" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
